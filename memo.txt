MFC : 김성엽의 C 언어 이야기 강좌로 시작
간단하게 강의 듣고 실습하는 방식으로 진행할 것

강의 리스트는 2개 - 김성엽의 Window 응용 프로그래밍
			김성엽의 MFC

해당 파일은 강의를 하면서 기록하는 것임(진짜 강의에서 이야기하는 커리큘럼 대로 할 것)

목표 : 응용 프로그램의 전체적인 구조를 습득하고 실제 어떻게 프로그램이 이루어지는 지 위주로 학습할 것


1. 운영체제
하드웨어마다 작동방식이 다른데 , 일일이 고려하여 사용할려면 불편하다
-> 그래서 등장한 것이 OS이다(각 장치를 제어하는 역할, 프로그램을 위한
프로그램)
사용자의 요구를 OS가 모두 들어줄 수 없어서, 응용 프로그램
운영체제가 제공하는 함수의 집합체 : API

응용 프로그램은 어떻게 만드는 가 : C언어와 운영체제에서 제공하는 API 함수를 이용하여 만듦

Resource : 운영체제에 의해서 관리되는 장치 혹은 해당 장치를 사용하기 위해 필요한 정보

응용 프로그램이 직접 리소스에 접근하면 위험함(운영체제의 중요 정보를 털거나 아예 작동 불가하도록 만들 수도 있음)
 
Handle : 운영체제는 자신의 리소스를 안전하게 관리하기 위해서 주소를 사용하는 포인털 대신 핸들이라는 개념을 사용 : 리소스의 주소를 정수로 치환한 것(리소스 주소 + 핸들 값 -> 핸들 테이블)
즉 중간과정에 있어서 직접 포인터를 이용하여 커널 단에 접근하는 것이 아니라. 핸들을 이용하여 정수값을 매개하여 핸들값을 얻거나 혹은 필요한 동작을 하게 하는 것

Win32는 기본적으로 HANDLE 이라는 자료형을 기본적으로 사용 : unsigned int와 동일
핸들을 의미하는 자료형은 모두 앞에 H로 시작함

HINSTANCE : 윈도우즈 운영체제에서 실행되는 프로그램들을 구별되기 위한 ID 값/ 프로그램을 구별하기 위한 값이므로 여러 같은 프로그램이 떠있어도 값이 같음
Process ID와는 다름(메모리에 실행 가능한 상태로 재배열된 실행 코드를 프로세스라 하며 그 아이디를 프로세스 아이디라 함)

기본덕으로 hinstance 값을 매개변수로 사요하는 이유도... 종류 구별을 위해서(직접 접근하는 견 위험해요!!)

동기화 : A 값을 구한 사람이 다음 작업을 위해 B 값을 구하는 작을 완료하기 전까지 기다려주는 행위/ 즉 순서가 있는 일을 분할하여 처리했을 때, 순서가 꼬이지 않도록 조정하는 행위

Thread : 하나의 스레드로 작업하는 경우에는 상관 없지만 복수일 경우 상관있다.
윈도우애서 이벤트 객체를 사용하는 것, 같은 프로세스 내에 있는 스레드 간에도, 서로 다른 프로세스에 있는 스레드 간에도 사용할 수 있어서 유용함
이벤트 객체는 0또는 1을 기억할 수 있는 커널 객체이며 CreateEvent 함수를 호출하여 만들 수 있음 - CloseHandle(h_event_object)로 닫을 수 있음

Window 운영체제는 각 프로그램의 출력 영역을 Window 객체로 정의하고 있다

위도우 운영체제는 동시에 여러 개의 프로세스가 작업을 진행하게 됨, 따라서 하나의 시스템 자원에 직접 접근해서 그 자원을 독점하지 못하게 만들어서 여러 개의 사용자 프로세스가 시스템 자원을 독점하지 못하면 
충돌 문제가 발생할 수 도 있음
따라서 윈도우 운영체제는 프로세스가 직접 시스템 자원에 접근하지 못하게 되어 있음(그래서 각 프로세스는 자원의 권한(핸들 값)을 획득한 뒤, 그 권한 값을 가지고 또 다른 API 한수를 호출하여 간접적 사용)

이벤트 객체를 사용하면 상태가 변경되었는 지를 체크할 수는 있지만 세부적인 정보를 알 수는 없다
그래서 사용하는 것이 Window 메세지이다

이벤트 객체는 모든 Thread가 사용할 수 있지만, Window Message는 윈도우 객체를 가지고 있는 스레드만 사용가능/ 윈도우 메세지는 사용자 입력이 발생하거나 상태가 변경되었을 때, 운영체제가 그 상황을 알려주기 윟
위해서 해당 윈도우로 보내주는 메세지

WM_XXX로 정의됨 : wParam + lParam
응용 프로그램에 전달된 윈도우 메세지는 응용 프로그램의 메세지 큐에 순서대로 저장됨/ 다른 작업을 하고 있더라도 운영체제로부터 전달된 윈도우 메세지는 손실되지 않음

일반 응용프로그램도 윈도우에 메세지를 전송할 수 있음(SendMessage, PostMessage : 대기 있음, 대기 없음 - 동기식/비동기식)

***일반 콘솔 프로그램과 다르게 main 함수에서 시작하여 사용자의 입력에 의존하는 것과 달리 윈도우 메세지를 기준으로 처리된다는 점에서 다르다


